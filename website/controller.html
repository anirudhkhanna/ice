<!DOCTYPE html>

<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="An Internet controlled home appliances automation system. By Ashwani Kumar and Anirudh Khanna">
    <meta name="author" content="Anirudh Khanna">

    <title>ICE - Internet Controlled Electronics</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/style.css" rel="stylesheet">
    
    <!-- jQuery Version 1.11.1 -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

    <!-- Custom JavaScript -->
    <script src="js/script.js"></script>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body onLoad="setDictationStatus()">

    <!-- Demo Notice -->
    <div id="demo-notice">
        <button type="button" id="close-demo-notice">&times;</button>
        <i>This is just a front-end demo of the actual project. The back-end systems aren't in action here. Apologies!</i>
    </div>

    <!-- Dynamic Tabs Nav -->
    <ul class="nav nav-tabs">
        <li><a class="navtab-homelink" href="index.html"><img src="img/ice-logo.png" height="30px;"></a></li>
        <li class="active"><a data-toggle="tab" href="#menu1"> <span class="glyphicon glyphicon-send"></span>&nbsp; Give Commands</a></li>
        <li><a data-toggle="tab" href="#menu2"> <span class="glyphicon glyphicon-plus"></span>&nbsp; Add Commands</a></li>
    </ul>

    <!-- Dynamic Tabs Page Content -->
    <div class="tab-content">
    
        <!-- Menu 1 (Give Commands) -->
        <div id="menu1" class="tab-pane fade in active">
            
            <!-- Menu 1 Page Content -->
            <div class="container main-container">
                <div class="row">
                    <div class="col-lg-12 text-center">
                    
                        <a href="index.html"><img src="img/ice-brand.png" style="width: 25%; margin-bottom: 10px;" /></a>
                        <p><em>Internet Controlled Electronics: Your connected home controller!</em></p>
                        <hr /> <br />
                        
                        <!-- Give Commands Form -->
                        <center>
                        <form id="labnol" method="post" action="">
                        <div class="speech">
                        <input type="text" name="status" id="transcript" placeholder="Give command..." autofocus />
                        <img onclick="startDictation()" src="img/speech.gif" />
                        </div>
                        </form>
                        <br />
                        <label><input type="checkbox" id="listening-checkbox" onClick="setDictationStatus()"> Always listening &nbsp;<span class="glyphicon glyphicon-volume-up" id="listening-icon" style="color: #da3434;"></span></input></label>
                        </center>
                    
                    </div>
                </div> <!-- /.row -->
            </div> <!-- /.container -->
        
        </div> <!-- /.menu1 over -->
        
        <!-- Menu 2 (Add Commands) -->
        <div id="menu2" class="tab-pane fade">
            
            <!-- Menu 2 Page Content -->
            <div class="container main-container">
                <div class="row">
                    <div class="col-lg-12 text-center">
                    
                        <a href="index.html"><img src="img/ice-brand.png" style="width: 25%; margin-bottom: 10px;" /></a>
                        <p><em>Internet Controlled Electronics: Your connected home controller!</em></p>
                        <hr /> <br />
                        
                        <!-- Add Commands Form -->
                        <center>
                        <form method="post" action="">
                        <div class="addcommand">
                        <input type="text" placeholder="Add command..." required/>
                        </div>
                        <br />
                        <div class="row">
                        <div class="form-group col-sm-3">
                        <label>Device 1</label>
                        <select class="form-control" name="dev1">
                        <option>NONE</option>
                        <option>ON</option>
                        <option>OFF</option>
                        </select>
                        </div>
                        <div class="form-group col-sm-3">
                        <label>Device 2</label>
                        <select class="form-control" name="dev2">
                        <option>NONE</option>
                        <option>ON</option>
                        <option>OFF</option>
                        </select>
                        </div>
                        <div class="form-group col-sm-3">
                        <label>Device 3</label>
                        <select class="form-control" name="dev3">
                        <option>NONE</option>
                        <option>ON</option>
                        <option>OFF</option>
                        </select>
                        </div>
                        <div class="form-group col-sm-3">
                        <label>Device 4</label>
                        <select class="form-control" name="dev4">
                        <option>NONE</option>
                        <option>ON</option>
                        <option>OFF</option>
                        </select>
                        </div>
                        </div>
                        <br />
                        <input type="submit" class="btn btn-info"></input>
                        </form>
                        </center>

                        <br />
                        <h3>Your Commands</h3>
                        <hr />
                        
                        <!-- Table of User Commands -->
                        <table class="table table-sm">
                        <thead>
                        <tr>
                        <th><center>Command</center></th>
                        <th><center>Device 1</center></th>
                        <th><center>Device 2</center></th>
                        <th><center>Device 3</center></th>
                        <th><center>Device 4</center></th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                        <td>I AM BACK HOME</td>
                        <td>ON</td>
                        <td>-</td>
                        <td>ON</td>
                        <td>-</td>
                        </tr>
                        <tr>
                        <td>GOOD NIGHT</td>
                        <td>OFF</td>
                        <td>-</td>
                        <td>OFF</td>
                        <td>ON</td>
                        </tr>
                        <tr>
                        <td>I AM GOING OUT</td>
                        <td>OFF</td>
                        <td>OFF</td>
                        <td>OFF</td>
                        <td>OFF</td>
                        </tr>
                        <tr>
                        <td>TURN THE LAMP ON</td>
                        <td>-</td>
                        <td>-</td>
                        <td>-</td>
                        <td>ON</td>
                        </tr>
                        </tbody>
                        </table>
                    
                    </div>
                </div> <!-- /.row -->
            </div> <!-- /.container -->
        
        </div> <!-- /.menu2 over -->
    
    </div> <!-- /.tab-content over -->

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    &copy; ICE Project 2016 &nbsp;&bull;&nbsp;
                    Created by Ashwani and Anirudh &nbsp;&bull;&nbsp;
                    <img src="img/ice-brand.png" style="height: 20px;">
                </div>
            </div>
        </div>
    </footer>
    <!-- /.footer -->

    <!-- Using HTML5 Speech Recognition API for Speech Input -->
    <script type="text/javascript">
    
        var checkboxL = document.getElementById('listening-checkbox');
        
        window.setInterval(function(){
            setDictationStatus();
        }, 5000);
        
        function setDictationStatus(){
            if(checkboxL.checked){
                startDictation(); // call dictation function
                $('#listening-icon').fadeIn();
            }
        else
            $('#listening-icon').fadeOut();
        }
        
        /* Function for Dictation */
        function startDictation(){
            if (window.hasOwnProperty('webkitSpeechRecognition')){
                
                var recognition = new webkitSpeechRecognition();
                
                recognition.continuous = false;
                recognition.interimResults = false;
                recognition.lang = "en-US";
                recognition.start();
                
                recognition.onresult = function(e){
                    document.getElementById('transcript').value = e.results[0][0].transcript;
                    recognition.stop();
                    document.getElementById('labnol').submit();
                };
 
                recognition.onerror = function(e){
                    recognition.stop();
                }
            }
        }
    
    </script>

</body>

</html>